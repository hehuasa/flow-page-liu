(function(){function m(){if(m.is(arguments[0],N)){for(var a=arguments[0],b=ra[G](m,a.splice(0,3+m.is(a[0],I))),d=b.set(),e=0,f=a[r];e<f;e++){var c=a[e]||{};ib[u](c.type)&&d[C](b[c.type]().attr(c))}return d}return ra[G](m,arguments)}function da(){for(var a=[],b=0;32>b;b++)a[b]=(~~(16*y.random())).toString(16);a[12]=4;a[16]=(a[16]&3|8).toString(16);return"r-"+a.join("")}function T(a,b,d){function e(){var f=Array.prototype.slice.call(arguments,0),c=f.join("\u25ba"),g=e.cache=e.cache||{},h=e.count=e.count||
[];if(g[u](c))return d?d(g[c]):g[c];1E3<=h[r]&&delete g[h.shift()];h[C](c);g[c]=a[G](b,f);return d?d(g[c]):g[c]}return e}function Ga(){return this.x+" "+this.y}function Ha(a){return function(b,d,e,f){var c={back:a};m.is(e,"function")?f=e:c.rot=e;b&&b.constructor==A&&(b=b.attrs.path);b&&(c.along=b);return this.animate(c,d,f)}}function jb(a,b,d,e,f,c){function g(a,b){var d,c,e,f;e=a;for(c=0;8>c;c++){f=((k*e+l)*e+h)*e-a;if(H(f)<b)return e;d=(3*k*e+2*l)*e+h;if(1E-6>H(d))break;e-=f/d}d=0;c=1;e=a;if(e<
d)return d;if(e>c)return c;for(;d<c;){f=((k*e+l)*e+h)*e;if(H(f-a)<b)break;a>f?d=e:c=e;e=(c-d)/2+d}return e}var h=3*b,l=3*(e-b)-h,k=1-h-l,n=3*d,m=3*(f-d)-n,q=1-n-m;return function(a,b){a=g(a,b);return((q*a+m)*a+n)*a}(a,1/(200*c))}m.version="1.5.2";var P=/[, ]+/,ib={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},kb=/\{(\d+)\}/g,u="hasOwnProperty",t=document,V=window,Ia=Object.prototype[u].call(V,"Raphael"),lb=V.Raphael,ea=function(){this.customAttributes={}},F,G="apply",sa="createTouch"in t,w=String,
Ja="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(" "),ta={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},r="length",Y=w.prototype.toLowerCase,y=Math,J=y.max,Q=y.min,H=y.abs,D=y.pow,L=y.PI,I="number",N="array",mb=Object.prototype.toString,C="push",Ka=/^url\(['"]?([^\)]+?)['"]?\)$/i,nb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
ob={NaN:1,Infinity:1,"-Infinity":1},pb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=y.round,z=parseFloat,U=parseInt,fa=w.prototype.toUpperCase,ga={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"",
"stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ua={along:"along",blur:I,"clip-rect":"csv",cx:I,cy:I,fill:"colour","fill-opacity":I,"font-size":I,height:I,opacity:I,path:"path",r:I,rotation:"csv",rx:I,ry:I,scale:"csv",stroke:"colour","stroke-opacity":I,"stroke-width":I,translation:"csv",width:I,x:I,y:I},qb=/^(from|to|\d+%?)$/,va=/\s*,\s*/,rb={hs:1,rg:1},
sb=/,?([achlmqrstvxz]),?/gi,tb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,ub=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,La=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,vb=function(a,b){return a.key-b.key};m.type=V.SVGAngle||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if("VML"==m.type){var wa=t.createElement("div"),ha;wa.innerHTML='<v:shape adj="1"/>';ha=wa.firstChild;ha.style.behavior="url(#default#VML)";if(!ha||"object"!=typeof ha.adj)return m.type=
null;wa=null}m.svg=!(m.vml="VML"==m.type);ea.prototype=m.prototype;F=ea.prototype;m._id=0;m._oid=0;m.fn={};m.is=function(a,b){b=Y.call(b);return"finite"==b?!ob[u](+a):"null"==b&&null===a||b==typeof a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||mb.call(a).slice(8,-1).toLowerCase()==b};m.angle=function(a,b,d,e,f,c){return null==f?(a-=d,b-=e,a||b?(180*(0>a)+180*y.atan(-b/-a)/L+360)%360:0):m.angle(a,b,f,c)-m.angle(d,e,f,c)};m.rad=function(a){return a%360*L/180};m.deg=function(a){return 180*
a/L%360};m.snapTo=function(a,b,d){d=m.is(d,"finite")?d:10;if(m.is(a,N))for(var e=a.length;e--;){if(H(a[e]-b)<=d)return a[e]}else{a=+a;e=b%a;if(e<d)return b-e;if(e>a-d)return b-e+a}return b};m.setWindow=function(a){V=a;t=V.document};var ia=function(a){if(m.vml){var b=/^\s+|\s+$/g,d;try{var e=new ActiveXObject("htmlfile");e.write("<body>");e.close();d=e.body}catch(g){d=createPopup().document.body}var f=d.createTextRange();ia=T(function(a){try{d.style.color=w(a).replace(b,"");var c=f.queryCommandValue("ForeColor");
return"#"+("000000"+((c&255)<<16|c&65280|(c&16711680)>>>16).toString(16)).slice(-6)}catch(l){return"none"}})}else{var c=t.createElement("i");c.title="Rapha\u00ebl Colour Picker";c.style.display="none";t.body.appendChild(c);ia=T(function(a){c.style.color=a;return t.defaultView.getComputedStyle(c,"").getPropertyValue("color")})}return ia(a)},Ma=function(){return"hsb("+[this.h,this.s,this.b]+")"},wb=function(){return"hsl("+[this.h,this.s,this.l]+")"},xb=function(){return this.hex};m.hsb2rgb=function(a,
b,d,e){m.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(d=a.b,b=a.s,a=a.h,e=a.o);return m.hsl2rgb(a,b,d/2,e)};m.hsl2rgb=function(a,b,d,e){m.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(d=a.l,b=a.s,a=a.h);if(1<a||1<b||1<d)a/=360,b/=100,d/=100;var f={},c=["r","g","b"],g;if(b){.5>d?g=d*(1+b):g=d+b-d*b;b=2*d-g;for(var h=0;3>h;h++)d=a+1/3*-(h-1),0>d&&d++,1<d&&d--,1>6*d?f[c[h]]=b+6*(g-b)*d:1>2*d?f[c[h]]=g:2>3*d?f[c[h]]=b+(g-b)*(2/3-d)*6:f[c[h]]=b}else f={r:d,g:d,b:d};f.r*=255;f.g*=255;f.b*=255;f.hex="#"+(16777216|
f.b|f.g<<8|f.r<<16).toString(16).slice(1);m.is(e,"finite")&&(f.opacity=e);f.toString=xb;return f};m.rgb2hsb=function(a,b,d){null==b&&m.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,b=a.g,a=a.r);null==b&&m.is(a,"string")&&(d=m.getRGB(a),a=d.r,b=d.g,d=d.b);if(1<a||1<b||1<d)a/=255,b/=255,d/=255;var e=J(a,b,d),f=Q(a,b,d),c;if(f==e)return{h:0,s:0,b:e,toString:Ma};f=e-f;a==e?c=(b-d)/f:b==e?c=2+(d-a)/f:c=4+(a-b)/f;c/=6;0>c&&c++;1<c&&c--;return{h:c,s:f/e,b:e,toString:Ma}};m.rgb2hsl=function(a,b,d){null==
b&&m.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,b=a.g,a=a.r);null==b&&m.is(a,"string")&&(d=m.getRGB(a),a=d.r,b=d.g,d=d.b);if(1<a||1<b||1<d)a/=255,b/=255,d/=255;var e=J(a,b,d),f=Q(a,b,d),c,g=(e+f)/2;if(f==e)a={h:0,s:0,l:g};else{var h=e-f;a==e?c=(b-d)/h:b==e?c=2+(d-a)/h:c=4+(a-b)/h;c/=6;0>c&&c++;1<c&&c--;a={h:c,s:.5>g?h/(e+f):h/(2-e-f),l:g}}a.toString=wb;return a};m._path2string=function(){return this.join(",").replace(sb,"$1")};m.getRGB=T(function(a){if(!a||(a=w(a)).indexOf("-")+1)return{r:-1,
g:-1,b:-1,hex:"none",error:1};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none"};!rb[u](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=ia(a));var b,d,e,f,c;if(a=a.match(nb)){a[2]&&(e=U(a[2].substring(5),16),d=U(a[2].substring(3,5),16),b=U(a[2].substring(1,3),16));a[3]&&(e=U((c=a[3].charAt(3))+c,16),d=U((c=a[3].charAt(2))+c,16),b=U((c=a[3].charAt(1))+c,16));a[4]&&(c=a[4].split(va),b=z(c[0]),"%"==c[0].slice(-1)&&(b*=2.55),d=z(c[1]),"%"==c[1].slice(-1)&&(d*=2.55),e=z(c[2]),"%"==c[2].slice(-1)&&(e*=
2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(f=z(c[3])),c[3]&&"%"==c[3].slice(-1)&&(f/=100));if(a[5])return c=a[5].split(va),b=z(c[0]),"%"==c[0].slice(-1)&&(b*=2.55),d=z(c[1]),"%"==c[1].slice(-1)&&(d*=2.55),e=z(c[2]),"%"==c[2].slice(-1)&&(e*=2.55),"deg"!=c[0].slice(-3)&&"\u00b0"!=c[0].slice(-1)||(b/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(f=z(c[3])),c[3]&&"%"==c[3].slice(-1)&&(f/=100),m.hsb2rgb(b,d,e,f);if(a[6])return c=a[6].split(va),b=z(c[0]),"%"==c[0].slice(-1)&&(b*=2.55),d=z(c[1]),"%"==
c[1].slice(-1)&&(d*=2.55),e=z(c[2]),"%"==c[2].slice(-1)&&(e*=2.55),"deg"!=c[0].slice(-3)&&"\u00b0"!=c[0].slice(-1)||(b/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(f=z(c[3])),c[3]&&"%"==c[3].slice(-1)&&(f/=100),m.hsl2rgb(b,d,e,f);a={r:b,g:d,b:e};a.hex="#"+(16777216|e|d<<8|b<<16).toString(16).slice(1);m.is(f,"finite")&&(a.opacity=f);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1}},m);m.getColor=function(a){a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75};var b=this.hsb2rgb(a.h,a.s,
a.b);a.h+=.075;1<a.h&&(a.h=0,a.s-=.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b}));return b.hex};m.getColor.reset=function(){delete this.start};m.parsePathString=T(function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},d=[];m.is(a,N)&&m.is(a[0],N)&&(d=ja(a));d[r]||w(a).replace(tb,function(a,f,c){var e=[];a=Y.call(f);c.replace(ub,function(a,b){b&&e[C](+b)});"m"==a&&2<e[r]&&(d[C]([f].concat(e.splice(0,2))),a="l",f="m"==f?"l":"L");for(;e[r]>=b[a]&&(d[C]([f].concat(e.splice(0,
b[a]))),b[a]););});d.toString=m._path2string;return d});m.findDotsAtSegment=function(a,b,d,e,f,c,g,h,l){var k=1-l,n=D(k,3)*a+3*D(k,2)*l*d+3*k*l*l*f+D(l,3)*g,k=D(k,3)*b+3*D(k,2)*l*e+3*k*l*l*c+D(l,3)*h,m=a+2*l*(d-a)+l*l*(f-2*d+a),q=b+2*l*(e-b)+l*l*(c-2*e+b),v=d+2*l*(f-d)+l*l*(g-2*f+d),X=e+2*l*(c-e)+l*l*(h-2*c+e);a=(1-l)*a+l*d;b=(1-l)*b+l*e;f=(1-l)*f+l*g;c=(1-l)*c+l*h;h=90-180*y.atan((m-v)/(q-X))/L;(m>v||q<X)&&(h+=180);return{x:n,y:k,m:{x:m,y:q},n:{x:v,y:X},start:{x:a,y:b},end:{x:f,y:c},alpha:h}};var la=
T(function(a){if(!a)return{x:0,y:0,width:0,height:0};a=ka(a);for(var b=0,d=0,e=[],f=[],c,g=0,h=a[r];g<h;g++)c=a[g],"M"==c[0]?(b=c[1],d=c[2],e[C](b),f[C](d)):(b=yb(b,d,c[1],c[2],c[3],c[4],c[5],c[6]),e=e.concat(b.min.x,b.max.x),f=f.concat(b.min.y,b.max.y),b=c[5],d=c[6]);a=Q[G](0,e);c=Q[G](0,f);return{x:a,y:c,width:J[G](0,e)-a,height:J[G](0,f)-c}}),ja=function(a){var b=[];m.is(a,N)&&m.is(a&&a[0],N)||(a=m.parsePathString(a));for(var d=0,e=a[r];d<e;d++){b[d]=[];for(var f=0,c=a[d][r];f<c;f++)b[d][f]=a[d][f]}b.toString=
m._path2string;return b},xa=T(function(a){m.is(a,N)&&m.is(a&&a[0],N)||(a=m.parsePathString(a));var b=[],d=0,e=0,f=0,c=0,g=0;"M"==a[0][0]&&(d=a[0][1],e=a[0][2],f=d,c=e,g++,b[C](["M",d,e]));for(var h=a[r];g<h;g++){var l=b[g]=[],k=a[g];if(k[0]!=Y.call(k[0]))switch(l[0]=Y.call(k[0]),l[0]){case "a":l[1]=k[1];l[2]=k[2];l[3]=k[3];l[4]=k[4];l[5]=k[5];l[6]=+(k[6]-d).toFixed(3);l[7]=+(k[7]-e).toFixed(3);break;case "v":l[1]=+(k[1]-e).toFixed(3);break;case "m":f=k[1],c=k[2];default:for(var n=1,E=k[r];n<E;n++)l[n]=
+(k[n]-(n%2?d:e)).toFixed(3)}else for(b[g]=[],"m"==k[0]&&(f=k[1]+d,c=k[2]+e),l=0,n=k[r];l<n;l++)b[g][l]=k[l];k=b[g][r];switch(b[g][0]){case "z":d=f;e=c;break;case "h":d+=+b[g][k-1];break;case "v":e+=+b[g][k-1];break;default:d+=+b[g][k-2],e+=+b[g][k-1]}}b.toString=m._path2string;return b},0,ja),aa=T(function(a){m.is(a,N)&&m.is(a&&a[0],N)||(a=m.parsePathString(a));var b=[],d=0,e=0,f=0,c=0,g=0;"M"==a[0][0]&&(d=+a[0][1],e=+a[0][2],f=d,c=e,g++,b[0]=["M",d,e]);for(var h=a[r];g<h;g++){var l=b[g]=[],k=a[g];
if(k[0]!=fa.call(k[0]))switch(l[0]=fa.call(k[0]),l[0]){case "A":l[1]=k[1];l[2]=k[2];l[3]=k[3];l[4]=k[4];l[5]=k[5];l[6]=+(k[6]+d);l[7]=+(k[7]+e);break;case "V":l[1]=+k[1]+e;break;case "H":l[1]=+k[1]+d;break;case "M":f=+k[1]+d,c=+k[2]+e;default:for(var n=1,E=k[r];n<E;n++)l[n]=+k[n]+(n%2?d:e)}else for(n=0,E=k[r];n<E;n++)b[g][n]=k[n];switch(l[0]){case "Z":d=f;e=c;break;case "H":d=l[1];break;case "V":e=l[1];break;case "M":f=b[g][b[g][r]-2],c=b[g][b[g][r]-1];default:d=b[g][b[g][r]-2],e=b[g][b[g][r]-1]}}b.toString=
m._path2string;return b},null,ja),ma=function(a,b,d,e){return[a,b,d,e,d,e]},Na=function(a,b,d,e,f,c){var g=1/3,h=2/3;return[g*a+h*d,g*b+h*e,g*f+h*d,g*c+h*e,f,c]},Oa=function(a,b,d,e,f,c,g,h,l,k){var n=120*L/180,m=L/180*(+f||0),q=[],v,X=T(function(a,b,d){var c=a*y.cos(d)-b*y.sin(d);a=a*y.sin(d)+b*y.cos(d);return{x:c,y:a}});if(k)B=k[0],v=k[1],c=k[2],p=k[3];else{v=X(a,b,-m);a=v.x;b=v.y;v=X(h,l,-m);h=v.x;l=v.y;y.cos(L/180*f);y.sin(L/180*f);v=(a-h)/2;B=(b-l)/2;p=v*v/(d*d)+B*B/(e*e);1<p&&(p=y.sqrt(p),d*=
p,e*=p);var p=d*d,u=e*e,p=(c==g?-1:1)*y.sqrt(H((p*u-p*B*B-u*v*v)/(p*B*B+u*v*v)));c=p*d*B/e+(a+h)/2;var p=p*-e*v/d+(b+l)/2,B=y.asin(((b-p)/e).toFixed(9));v=y.asin(((l-p)/e).toFixed(9));B=a<c?L-B:B;v=h<c?L-v:v;0>B&&(B=2*L+B);0>v&&(v=2*L+v);g&&B>v&&(B-=2*L);!g&&v>B&&(v-=2*L)}if(H(v-B)>n){var q=v,u=h,t=l;v=B+n*(g&&v>B?1:-1);h=c+d*y.cos(v);l=p+e*y.sin(v);q=Oa(h,l,d,e,f,0,g,u,t,[v,q,c,p])}c=v-B;f=y.cos(B);n=y.sin(B);g=y.cos(v);v=y.sin(v);c=y.tan(c/4);d=4/3*d*c;c*=4/3*e;e=[a,b];a=[a+d*n,b-c*f];b=[h+d*v,
l-c*g];h=[h,l];a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(k)return[a,b,h].concat(q);q=[a,b,h].concat(q).join().split(",");k=[];h=0;for(l=q[r];h<l;h++)k[h]=h%2?X(q[h-1],q[h],m).y:X(q[h],q[h+1],m).x;return k},na=function(a,b,d,e,f,c,g,h,l){var k=1-l;return{x:D(k,3)*a+3*D(k,2)*l*d+3*k*l*l*f+D(l,3)*g,y:D(k,3)*b+3*D(k,2)*l*e+3*k*l*l*c+D(l,3)*h}},yb=T(function(a,b,d,e,f,c,g,h){var l=f-2*d+a-(g-2*f+d),k=2*(d-a)-2*(f-d),n=a-d,m=(-k+y.sqrt(k*k-4*l*n))/2/l,l=(-k-y.sqrt(k*k-4*l*n))/2/l,q=[b,h],v=[a,g];"1e12"<H(m)&&
(m=.5);"1e12"<H(l)&&(l=.5);0<m&&1>m&&(m=na(a,b,d,e,f,c,g,h,m),v[C](m.x),q[C](m.y));0<l&&1>l&&(m=na(a,b,d,e,f,c,g,h,l),v[C](m.x),q[C](m.y));l=c-2*e+b-(h-2*c+e);k=2*(e-b)-2*(c-e);n=b-e;m=(-k+y.sqrt(k*k-4*l*n))/2/l;l=(-k-y.sqrt(k*k-4*l*n))/2/l;"1e12"<H(m)&&(m=.5);"1e12"<H(l)&&(l=.5);0<m&&1>m&&(m=na(a,b,d,e,f,c,g,h,m),v[C](m.x),q[C](m.y));0<l&&1>l&&(m=na(a,b,d,e,f,c,g,h,l),v[C](m.x),q[C](m.y));return{min:{x:Q[G](0,v),y:Q[G](0,q)},max:{x:J[G](0,v),y:J[G](0,q)}}}),ka=T(function(a,b){var d=aa(a),e=b&&aa(b);
a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};b={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var f=function(a,b){var d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(Oa[G](0,[b.x,b.y].concat(a.slice(1))));break;case "S":d=b.x+(b.x-(b.bx||b.x));b=b.y+(b.y-(b.by||b.y));a=["C",d,b].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(Na(b.x,b.y,b.qx,b.qy,
a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(Na(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(ma(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(ma(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(ma(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(ma(b.x,b.y,b.X,b.Y))}return a},c=function(a,b){if(7<a[b][r]){a[b].shift();for(var c=a[b];c[r];)a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);l=J(d[r],e&&e[r]||0)}},g=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=
b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],l=J(d[r],e&&e[r]||0))},h=0,l=J(d[r],e&&e[r]||0);for(;h<l;h++){d[h]=f(d[h],a);c(d,h);e&&(e[h]=f(e[h],b));e&&c(e,h);g(d,e,a,b,h);g(e,d,b,a,h);var k=d[h],m=e&&e[h],E=k[r],q=e&&m[r];a.x=k[E-2];a.y=k[E-1];a.bx=z(k[E-4])||a.x;a.by=z(k[E-3])||a.y;b.bx=e&&(z(m[q-4])||b.x);b.by=e&&(z(m[q-3])||b.y);b.x=e&&m[q-2];b.y=e&&m[q-1]}return e?[d,e]:d},null,ja),Pa=T(function(a){for(var b=[],d=0,e=a[r];d<e;d++){var f={},c=a[d].match(/^([^:]*):?([\d\.]*)/);
f.color=m.getRGB(c[1]);if(f.color.error)return null;f.color=f.color.hex;c[2]&&(f.offset=c[2]+"%");b[C](f)}d=1;for(e=b[r]-1;d<e;d++)if(!b[d].offset){a=z(b[d-1].offset||0);c=0;for(f=d+1;f<e;f++)if(b[f].offset){c=b[f].offset;break}c||(c=100,f=e);c=z(c);for(c=(c-a)/(f-d+1);d<f;d++)a+=c,b[d].offset=a+"%"}return b}),Qa=function(a,b,d,e){if(m.is(a,"string")||m.is(a,"object")){if(a=m.is(a,"string")?t.getElementById(a):a,a.tagName)return null==b?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||
a.offsetHeight}:{container:a,width:b,height:d}}else return{container:1,x:a,y:b,width:d,height:e}},ya=function(a,b){var d=this,e;for(e in b)if(b[u](e)&&!(e in a))switch(typeof b[e]){case "function":(function(b){a[e]=a===d?b:function(){return b[G](d,arguments)}})(b[e]);break;case "object":a[e]=a[e]||{};ya.call(this,a[e],b[e]);break;default:a[e]=b[e]}},Z=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)},Ra=function(a,b){b.top!==
a&&(Z(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},Sa=function(a,b){b.bottom!==a&&(Z(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},Ta=function(a,b,d){Z(a,d);b==d.top&&(d.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},Ua=function(a,b,d){Z(a,d);b==d.bottom&&(d.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},Va=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};m.pathToRelative=
xa;if(m.svg){F.svgns="http://www.w3.org/2000/svg";F.xlink="http://www.w3.org/1999/xlink";var K=function(a){return+a+.5*(~~a===a)},p=function(a,b){if(b)for(var d in b)b[u](d)&&a.setAttribute(d,w(b[d]));else return a=t.createElementNS(F.svgns,a),a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a};m.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var Wa=function(a,b){var d=p("path");b.canvas&&b.canvas.appendChild(d);b=new A(d,b);b.type="path";W(b,{fill:"none",
stroke:"#000",path:a});return b},ba=function(a,b,d){var e="linear",f=.5,c=.5,g=a.style;b=w(b).replace(La,function(a,b,d){e="radial";b&&d&&(f=z(b),c=z(d),a=2*(.5<c)-1,.25<D(f-.5,2)+D(c-.5,2)&&(c=y.sqrt(.25-D(f-.5,2))*a+.5)&&.5!=c&&(c=c.toFixed(5)-1E-5*a));return""});b=b.split(/\s*\-\s*/);if("linear"==e){var h=b.shift(),h=-z(h);if(isNaN(h))return null;var h=[0,0,y.cos(h*L/180),y.sin(h*L/180)],l=1/(J(H(h[2]),H(h[3]))||1);h[2]*=l;h[3]*=l;0>h[2]&&(h[0]=-h[2],h[2]=0);0>h[3]&&(h[1]=-h[3],h[3]=0)}b=Pa(b);
if(!b)return null;l=a.getAttribute("fill");(l=l.match(/^url\(#(.*)\)$/))&&d.defs.removeChild(t.getElementById(l[1]));l=p(e+"Gradient");l.id=da();p(l,"radial"==e?{fx:f,fy:c}:{x1:h[0],y1:h[1],x2:h[2],y2:h[3]});d.defs.appendChild(l);d=0;for(h=b[r];d<h;d++){var k=p("stop");p(k,{offset:b[d].offset?b[d].offset:d?"100%":"0%","stop-color":b[d].color||"#fff"});l.appendChild(k)}p(a,{fill:"url(#"+l.id+")",opacity:1,"fill-opacity":1});g.fill="";g.opacity=1;return g.fillOpacity=1},za=function(a){var b=a.getBBox();
p(a.pattern,{patternTransform:m.format("translate({0},{1})",b.x,b.y)})},W=function(a,b){var d={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=a.node,f=a.attrs,c=a.rotate(),g=function(a,c){if(c=d[Y.call(c)]){var f=a.attrs["stroke-width"]||"1";a={round:f,square:f,butt:0}[a.attrs["stroke-linecap"]||b["stroke-linecap"]]||0;for(var g=[],h=c[r];h--;)g[h]=c[h]*f+(h%2?1:-1)*a;p(e,{"stroke-dasharray":g.join(",")})}};
b[u]("rotation")&&(c=b.rotation);var h=w(c).split(P);h.length-1?(h[1]=+h[1],h[2]=+h[2]):h=null;z(c)&&a.rotate(0,!0);for(var l in b)if(b[u](l)&&ga[u](l)){var k=b[l];f[l]=k;switch(l){case "blur":a.blur(k);break;case "rotation":a.rotate(k,!0);break;case "href":case "title":case "target":var n=e.parentNode;if("a"!=Y.call(n.tagName)){var E=p("a");n.insertBefore(E,e);E.appendChild(e);n=E}"target"==l&&"blank"==k?n.setAttributeNS(a.paper.xlink,"show","new"):n.setAttributeNS(a.paper.xlink,l,k);break;case "cursor":e.style.cursor=
k;break;case "clip-rect":n=w(k).split(P);if(4==n[r]){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var q=p("clipPath"),E=p("rect");q.id=da();p(E,{x:n[0],y:n[1],width:n[2],height:n[3]});q.appendChild(E);a.paper.defs.appendChild(q);p(e,{"clip-path":"url(#"+q.id+")"});a.clip=E}k||((k=t.getElementById(e.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&k.parentNode.removeChild(k),p(e,{"clip-path":""}),delete a.clip);break;case "path":"path"==a.type&&p(e,{d:k?f.path=aa(k):
"M0,0"});break;case "width":if(e.setAttribute(l,k),f.fx)l="x",k=f.x;else break;case "x":f.fx&&(k=-f.x-(f.width||0));case "rx":if("rx"==l&&"rect"==a.type)break;case "cx":h&&("x"==l||"cx"==l)&&(h[1]+=k-f[l]);e.setAttribute(l,k);a.pattern&&za(a);break;case "height":if(e.setAttribute(l,k),f.fy)l="y",k=f.y;else break;case "y":f.fy&&(k=-f.y-(f.height||0));case "ry":if("ry"==l&&"rect"==a.type)break;case "cy":h&&("y"==l||"cy"==l)&&(h[2]+=k-f[l]);e.setAttribute(l,k);a.pattern&&za(a);break;case "r":"rect"==
a.type?p(e,{rx:k,ry:k}):e.setAttribute(l,k);break;case "src":"image"==a.type&&e.setAttributeNS(a.paper.xlink,"href",k);break;case "stroke-width":e.style.strokeWidth=k;e.setAttribute(l,k);f["stroke-dasharray"]&&g(a,f["stroke-dasharray"]);break;case "stroke-dasharray":g(a,k);break;case "translation":k=w(k).split(P);k[0]=+k[0]||0;k[1]=+k[1]||0;h&&(h[1]+=k[0],h[2]+=k[1]);oa.call(a,k[0],k[1]);break;case "scale":k=w(k).split(P);a.scale(+k[0]||1,+k[1]||+k[0]||1,isNaN(z(k[2]))?null:+k[2],isNaN(z(k[3]))?null:
+k[3]);break;case "fill":if(n=w(k).match(Ka)){var q=p("pattern"),v=p("image");q.id=da();p(q,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});p(v,{x:0,y:0});v.setAttributeNS(a.paper.xlink,"href",n[1]);q.appendChild(v);k=t.createElement("img");k.style.cssText="position:absolute;left:-9999em;top-9999em";k.onload=function(){p(q,{width:this.offsetWidth,height:this.offsetHeight});p(v,{width:this.offsetWidth,height:this.offsetHeight});t.body.removeChild(this);a.paper.safari()};t.body.appendChild(k);
k.src=n[1];a.paper.defs.appendChild(q);e.style.fill="url(#"+q.id+")";p(e,{fill:"url(#"+q.id+")"});a.pattern=q;a.pattern&&za(a);break}n=m.getRGB(k);if(n.error)if(({circle:1,ellipse:1}[u](a.type)||"r"!=w(k).charAt())&&ba(e,k,a.paper)){f.gradient=k;f.fill="none";break}else delete b.gradient,delete f.gradient,!m.is(f.opacity,"undefined")&&m.is(b.opacity,"undefined")&&p(e,{opacity:f.opacity}),!m.is(f["fill-opacity"],"undefined")&&m.is(b["fill-opacity"],"undefined")&&p(e,{"fill-opacity":f["fill-opacity"]});
n[u]("opacity")&&p(e,{"fill-opacity":1<n.opacity?n.opacity/100:n.opacity});case "stroke":n=m.getRGB(k);e.setAttribute(l,n.hex);"stroke"==l&&n[u]("opacity")&&p(e,{"stroke-opacity":1<n.opacity?n.opacity/100:n.opacity});break;case "gradient":({circle:1,ellipse:1}[u](a.type)||"r"!=w(k).charAt())&&ba(e,k,a.paper);break;case "opacity":f.gradient&&!f[u]("stroke-opacity")&&p(e,{"stroke-opacity":1<k?k/100:k});case "fill-opacity":if(f.gradient){if(n=t.getElementById(e.getAttribute("fill").replace(/^url\(#|\)$/g,
"")))n=n.getElementsByTagName("stop"),n[n[r]-1].setAttribute("stop-opacity",k);break}default:"font-size"==l&&(k=U(k,10)+"px"),n=l.replace(/(\-.)/g,function(a){return fa.call(a.substring(1))}),e.style[n]=k,e.setAttribute(l,k)}}zb(a,b);h?a.rotate(h.join(" ")):z(c)&&a.rotate(c,!0)},zb=function(a,b){if("text"==a.type&&(b[u]("text")||b[u]("font")||b[u]("font-size")||b[u]("x")||b[u]("y"))){var d=a.attrs,e=a.node,f=e.firstChild?U(t.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),
10):10;if(b[u]("text")){for(d.text=b.text;e.firstChild;)e.removeChild(e.firstChild);b=w(b.text).split("\n");for(var c=0,g=b[r];c<g;c++)if(b[c]){var h=p("tspan");c&&p(h,{dy:1.2*f,x:d.x});h.appendChild(t.createTextNode(b[c]));e.appendChild(h)}}else for(b=e.getElementsByTagName("tspan"),c=0,g=b[r];c<g;c++)c&&p(b[c],{dy:1.2*f,x:d.x});p(e,{y:d.y});a=a.getBBox();(a=d.y-(a.y+a.height/2))&&m.is(a,"finite")&&p(e,{y:d.y+a})}},A=function(a,b){this[0]=a;this.id=m._oid++;this.node=a;a.raphael=this;this.paper=
b;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!b.bottom&&(b.bottom=this);(this.prev=b.top)&&(b.top.next=this);b.top=this;this.next=null},x=A.prototype;A.prototype.rotate=function(a,b,d){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;var e=this.getBBox();a=w(a).split(P);a[r]-1&&(b=z(a[1]),d=z(a[2]));a=z(a[0]);null!=b&&!1!==b?this._.rt.deg=a:this._.rt.deg+=a;null==d&&
(b=null);this._.rt.cx=b;this._.rt.cy=d;b=null==b?e.x+e.width/2:b;d=null==d?e.y+e.height/2:d;this._.rt.deg?(this.transformations[0]=m.format("rotate({0} {1} {2})",this._.rt.deg,b,d),this.clip&&p(this.clip,{transform:m.format("rotate({0} {1} {2})",-this._.rt.deg,b,d)})):(this.transformations[0]="",this.clip&&p(this.clip,{transform:""}));p(this.node,{transform:this.transformations.join(" ")});return this};A.prototype.hide=function(){!this.removed&&(this.node.style.display="none");return this};A.prototype.show=
function(){!this.removed&&(this.node.style.display="");return this};A.prototype.remove=function(){if(!this.removed){Z(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=!0}};A.prototype.getBBox=function(){if(this.removed)return this;if("path"==this.type)return la(this.attrs.path);if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}if("text"==this.type)for(var b={x:b.x,y:Infinity,
width:0,height:0},d=0,e=this.node.getNumberOfChars();d<e;d++){var f=this.node.getExtentOfChar(d);f.y<b.y&&(b.y=f.y);f.y+f.height-b.y>b.height&&(b.height=f.y+f.height-b.y);f.x+f.width-b.x>b.width&&(b.width=f.x+f.width-b.x)}a&&this.hide();return b};A.prototype.attr=function(a,b){if(this.removed)return this;if(null==a){a={};for(var d in this.attrs)this.attrs[u](d)&&(a[d]=this.attrs[d]);this._.rt.deg&&(a.rotation=this.rotate());1==this._.sx&&1==this._.sy||(a.scale=this.scale());a.gradient&&"none"==a.fill&&
(a.fill=a.gradient)&&delete a.gradient;return a}if(null==b&&m.is(a,"string"))return"translation"==a?oa.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(null==b&&m.is(a,N)){d={};for(var e=0,f=a.length;e<f;e++)d[a[e]]=this.attr(a[e]);return d}null!=b?(e={},e[a]=b):null!=a&&m.is(a,"object")&&(e=a);for(f in this.paper.customAttributes)if(this.paper.customAttributes[u](f)&&e[u](f)&&m.is(this.paper.customAttributes[f],
"function")){a=this.paper.customAttributes[f].apply(this,[].concat(e[f]));this.attrs[f]=e[f];for(var c in a)a[u](c)&&(e[c]=a[c])}W(this,e);return this};A.prototype.toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Ra(this,a);return this};A.prototype.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Sa(this,this.paper));
return this};A.prototype.insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Ta(this,a,this.paper);return this};A.prototype.insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b);Ua(this,a,this.paper);return this};A.prototype.blur=function(a){if(0!==+a){var b=p("filter"),d=p("feGaussianBlur");this.attrs.blur=
a;b.id=da();p(d,{stdDeviation:+a||1.5});b.appendChild(d);this.paper.defs.appendChild(b);this._blur=b;p(this.node,{filter:"url(#"+b.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};var Xa=function(a,b,d,e){var f=p("circle");a.canvas&&a.canvas.appendChild(f);a=new A(f,a);a.attrs={cx:b,cy:d,r:e,fill:"none",stroke:"#000"};a.type="circle";p(f,a.attrs);return a},Ya=function(a,b,d,e,f,c){var g=p("rect");
a.canvas&&a.canvas.appendChild(g);a=new A(g,a);a.attrs={x:b,y:d,width:e,height:f,r:c||0,rx:c||0,ry:c||0,fill:"none",stroke:"#000"};a.type="rect";p(g,a.attrs);return a},Za=function(a,b,d,e,f){var c=p("ellipse");a.canvas&&a.canvas.appendChild(c);a=new A(c,a);a.attrs={cx:b,cy:d,rx:e,ry:f,fill:"none",stroke:"#000"};a.type="ellipse";p(c,a.attrs);return a},$a=function(a,b,d,e,f,c){var g=p("image");p(g,{x:d,y:e,width:f,height:c,preserveAspectRatio:"none"});g.setAttributeNS(a.xlink,"href",b);a.canvas&&a.canvas.appendChild(g);
a=new A(g,a);a.attrs={x:d,y:e,width:f,height:c,src:b};a.type="image";return a},ab=function(a,b,d,e){var f=p("text");p(f,{x:b,y:d,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(f);a=new A(f,a);a.attrs={x:b,y:d,"text-anchor":"middle",text:e,font:ga.font,stroke:"none",fill:"#000"};a.type="text";W(a,a.attrs);return a},bb=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},ra=
function(){var a=Qa[G](0,arguments),b=a&&a.container,d=a.x,e=a.y,f=a.width,a=a.height;if(!b)throw Error("SVG container not found.");var c=p("svg"),d=d||0,e=e||0,f=f||512,a=a||342;p(c,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:a});1==b?(c.style.cssText="position:absolute;left:"+d+"px;top:"+e+"px",t.body.appendChild(c)):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c);b=new ea;b.width=f;b.height=a;b.canvas=c;ya.call(b,b,m.fn);b.clear();return b};F.clear=function(){for(var a=
this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=p("desc")).appendChild(t.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=p("defs"))};F.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=Va(a)}}if(m.vml){var cb=function(a,b,d,e,f){return f?m.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",
a+f,b,d-2*f,f,-f,e-2*f,2*f-d,2*f-e):m.format("M{0},{1}l{2},0,0,{3},{4},0z",a,b,d,e,-d)},db={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Ab=/([clmz]),?([^clmz]*)/gi,Bb=/ progid:\S+Blur\([^\)]+\)/g,Cb=/-?[^,\s-]+/g,ca={path:1,rect:1},Db=function(a){var b=/[ahqstv]/ig,d=aa;w(a).match(b)&&(d=ka);b=/[clmz]/g;if(d==aa&&!w(a).match(b))return a=w(a).replace(Ab,function(a,b,d){var c=[],e="m"==Y.call(b),f=db[b];d.replace(Cb,function(a){e&&2==c[r]&&(f+=c+db["m"==b?"l":"L"],c=[]);c[C](K(10*a))});return f+
c});var b=d(a),e;a=[];for(var f=0,c=b[r];f<c;f++){d=b[f];e=Y.call(b[f][0]);"z"==e&&(e="x");for(var g=1,h=d[r];g<h;g++)e+=K(10*d[g])+(g!=h-1?",":"");a[C](e)}return a.join(" ")};m.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};Wa=function(a,b){var d=M("group");d.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";d.coordsize=b.coordsize;d.coordorigin=b.coordorigin;var e=M("shape"),
f=e.style;f.width=b.width+"px";f.height=b.height+"px";e.coordsize="1000 1000";e.coordorigin=b.coordorigin;d.appendChild(e);e=new A(e,d,b);f={fill:"none",stroke:"#000"};a&&(f.path=a);e.type="path";e.path=[];e.Path="";W(e,f);b.canvas.appendChild(d);return e};W=function(a,b){a.attrs=a.attrs||{};var d=a.node,e=a.attrs,f=d.style,c;c=(b.x!=e.x||b.y!=e.y||b.width!=e.width||b.height!=e.height||b.r!=e.r)&&"rect"==a.type;for(var g in b)b[u](g)&&(e[g]=b[g]);c&&(e.path=cb(e.x,e.y,e.width,e.height,e.r),a.X=e.x,
a.Y=e.y,a.W=e.width,a.H=e.height);b.href&&(d.href=b.href);b.title&&(d.title=b.title);b.target&&(d.target=b.target);b.cursor&&(f.cursor=b.cursor);"blur"in b&&a.blur(b.blur);if(b.path&&"path"==a.type||c)d.path=Db(e.path);null!=b.rotation&&a.rotate(b.rotation,!0);b.translation&&(c=w(b.translation).split(P),oa.call(a,c[0],c[1]),null!=a._.rt.cx&&(a._.rt.cx+=+c[0],a._.rt.cy+=+c[1],a.setBox(a.attrs,c[0],c[1])));b.scale&&(c=w(b.scale).split(P),a.scale(+c[0]||1,+c[1]||+c[0]||1,+c[2]||null,+c[3]||null));if("clip-rect"in
b){c=w(b["clip-rect"]).split(P);if(4==c[r]){c[2]=+c[2]+ +c[0];c[3]=+c[3]+ +c[1];g=d.clipRect||t.createElement("div");var h=g.style,l=d.parentNode;h.clip=m.format("rect({1}px {2}px {3}px {0}px)",c);d.clipRect||(h.position="absolute",h.top=0,h.left=0,h.width=a.paper.width+"px",h.height=a.paper.height+"px",l.parentNode.insertBefore(g,l),g.appendChild(l),d.clipRect=g)}b["clip-rect"]||d.clipRect&&(d.clipRect.style.clip="")}"image"==a.type&&b.src&&(d.src=b.src);"image"==a.type&&b.opacity&&(d.filterOpacity=
" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*b.opacity+")",f.filter=(d.filterMatrix||"")+(d.filterOpacity||""));b.font&&(f.font=b.font);b["font-family"]&&(f.fontFamily='"'+b["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');b["font-size"]&&(f.fontSize=b["font-size"]);b["font-weight"]&&(f.fontWeight=b["font-weight"]);b["font-style"]&&(f.fontStyle=b["font-style"]);if(null!=b.opacity||null!=b["stroke-width"]||null!=b.fill||null!=b.stroke||null!=b["stroke-width"]||null!=b["stroke-opacity"]||
null!=b["fill-opacity"]||null!=b["stroke-dasharray"]||null!=b["stroke-miterlimit"]||null!=b["stroke-linejoin"]||null!=b["stroke-linecap"]){d=a.shape||d;c=d.getElementsByTagName("fill")&&d.getElementsByTagName("fill")[0];g=!1;!c&&(g=c=M("fill"));if("fill-opacity"in b||"opacity"in b)f=((+e["fill-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+m.getRGB(b.fill).o+1||2)-1),f=Q(J(f,0),1),c.opacity=f;b.fill&&(c.on=!0);if(null==c.on||"none"==b.fill)c.on=!1;c.on&&b.fill&&((f=b.fill.match(Ka))?(c.src=f[1],c.type=
"tile"):(c.color=m.getRGB(b.fill).hex,c.src="",c.type="solid",m.getRGB(b.fill).error&&(a.type in{circle:1,ellipse:1}||"r"!=w(b.fill).charAt())&&ba(a,b.fill)&&(e.fill="none",e.gradient=b.fill)));g&&d.appendChild(c);c=d.getElementsByTagName("stroke")&&d.getElementsByTagName("stroke")[0];g=!1;!c&&(g=c=M("stroke"));if(b.stroke&&"none"!=b.stroke||b["stroke-width"]||null!=b["stroke-opacity"]||b["stroke-dasharray"]||b["stroke-miterlimit"]||b["stroke-linejoin"]||b["stroke-linecap"])c.on=!0;"none"!=b.stroke&&
null!=c.on&&0!=b.stroke&&0!=b["stroke-width"]||(c.on=!1);f=m.getRGB(b.stroke);c.on&&b.stroke&&(c.color=f.hex);f=((+e["stroke-opacity"]+1||2)-1)*((+e.opacity+1||2)-1)*((+f.o+1||2)-1);h=.75*(z(b["stroke-width"])||1);f=Q(J(f,0),1);null==b["stroke-width"]&&(h=e["stroke-width"]);b["stroke-width"]&&(c.weight=h);h&&1>h&&(f*=h)&&(c.weight=1);c.opacity=f;b["stroke-linejoin"]&&(c.joinstyle=b["stroke-linejoin"]||"miter");c.miterlimit=b["stroke-miterlimit"]||8;b["stroke-linecap"]&&(c.endcap="butt"==b["stroke-linecap"]?
"flat":"square"==b["stroke-linecap"]?"square":"round");b["stroke-dasharray"]&&(f={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},c.dashstyle=f[u](b["stroke-dasharray"])?f[b["stroke-dasharray"]]:"");g&&d.appendChild(c)}if("text"==a.type)switch(f=a.paper.span.style,e.font&&(f.font=e.font),e["font-family"]&&(f.fontFamily=e["font-family"]),e["font-size"]&&(f.fontSize=e["font-size"]),
e["font-weight"]&&(f.fontWeight=e["font-weight"]),e["font-style"]&&(f.fontStyle=e["font-style"]),a.node.string&&(a.paper.span.innerHTML=w(a.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),a.W=e.w=a.paper.span.offsetWidth,a.H=e.h=a.paper.span.offsetHeight,a.X=e.x,a.Y=e.y+K(a.H/2),e["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=K(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-K(a.W/2);break;default:a.node.style["v-text-align"]=
"center"}};ba=function(a,b){a.attrs=a.attrs||{};var d="linear",e=".5 .5";a.attrs.gradient=b;b=w(b).replace(La,function(a,b,c){d="radial";b&&c&&(b=z(b),c=z(c),.25<D(b-.5,2)+D(c-.5,2)&&(c=y.sqrt(.25-D(b-.5,2))*(2*(.5<c)-1)+.5),e=b+" "+c);return""});b=b.split(/\s*\-\s*/);if("linear"==d){var f=b.shift(),f=-z(f);if(isNaN(f))return null}var c=Pa(b);if(!c)return null;a=a.shape||a.node;b=a.getElementsByTagName("fill")[0]||M("fill");!b.parentNode&&a.appendChild(b);if(c[r]){b.on=!0;b.method="none";b.color=
c[0].color;b.color2=c[c[r]-1].color;a=[];for(var g=0,h=c[r];g<h;g++)c[g].offset&&a[C](c[g].offset+" "+c[g].color);b.colors&&(b.colors.value=a[r]?a.join():"0% "+b.color);"radial"==d?(b.type="gradientradial",b.focus="100%",b.focussize=e,b.focusposition=e):(b.type="gradient",b.angle=(270-f)%360)}return 1};A=function(a,b,d){this[0]=a;this.id=m._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=b;this.paper=d;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);(this.prev=
d.top)&&(d.top.next=this);d.top=this;this.next=null};x=A.prototype;x.rotate=function(a,b,d){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;a=w(a).split(P);a[r]-1&&(b=z(a[1]),d=z(a[2]));a=z(a[0]);null!=b?this._.rt.deg=a:this._.rt.deg+=a;null==d&&(b=null);this._.rt.cx=b;this._.rt.cy=d;this.setBox(this.attrs,b,d);this.Group.style.rotation=this._.rt.deg;return this};x.setBox=function(a,b,d){if(this.removed)return this;var e=
this.Group.style,f=this.shape&&this.shape.style||this.node.style;a=a||{};for(var c in a)a[u](c)&&(this.attrs[c]=a[c]);b=b||this._.rt.cx;d=d||this._.rt.cy;var g=this.attrs,h;switch(this.type){case "circle":a=g.cx-g.r;c=g.cy-g.r;h=g=2*g.r;break;case "ellipse":a=g.cx-g.rx;c=g.cy-g.ry;h=2*g.rx;g=2*g.ry;break;case "image":a=+g.x;c=+g.y;h=g.width||0;g=g.height||0;break;case "text":this.textpath.v=["m",K(g.x),", ",K(g.y-2),"l",K(g.x)+1,", ",K(g.y-2)].join("");a=g.x-K(this.W/2);c=g.y-this.H/2;h=this.W;g=
this.H;break;case "rect":case "path":this.attrs.path?(g=la(this.attrs.path),a=g.x,c=g.y,h=g.width,g=g.height):(c=a=0,h=this.paper.width,g=this.paper.height);break;default:c=a=0,h=this.paper.width,g=this.paper.height}b=(null==b?a+h/2:b)-this.paper.width/2;d=(null==d?c+g/2:d)-this.paper.height/2;var l;e.left!=(l=b+"px")&&(e.left=l);e.top!=(l=d+"px")&&(e.top=l);this.X=ca[u](this.type)?-b:a;this.Y=ca[u](this.type)?-d:c;this.W=h;this.H=g;ca[u](this.type)?(f.left!=(l=10*-b+"px")&&(f.left=l),f.top!=(l=10*
-d+"px")&&(f.top=l)):"text"==this.type?(f.left!=(l=-b+"px")&&(f.left=l),f.top!=(l=-d+"px")&&(f.top=l)):(e.width!=(l=this.paper.width+"px")&&(e.width=l),e.height!=(l=this.paper.height+"px")&&(e.height=l),f.left!=(l=a-b+"px")&&(f.left=l),f.top!=(l=c-d+"px")&&(f.top=l),f.width!=(l=h+"px")&&(f.width=l),f.height!=(l=g+"px")&&(f.height=l))};x.hide=function(){!this.removed&&(this.Group.style.display="none");return this};x.show=function(){!this.removed&&(this.Group.style.display="block");return this};x.getBBox=
function(){return this.removed?this:ca[u](this.type)?la(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};x.remove=function(){if(!this.removed){Z(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=!0}};x.attr=function(a,b){if(this.removed)return this;if(null==a){a={};for(var d in this.attrs)this.attrs[u](d)&&(a[d]=
this.attrs[d]);this._.rt.deg&&(a.rotation=this.rotate());1==this._.sx&&1==this._.sy||(a.scale=this.scale());a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient;return a}if(null==b&&m.is(a,"string"))return"translation"==a?oa.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(this.attrs&&null==b&&m.is(a,N)){var e,f={};d=0;for(e=a[r];d<e;d++)f[a[d]]=this.attr(a[d]);return f}null!=b&&
(e={},e[a]=b);null==b&&m.is(a,"object")&&(e=a);if(e){for(f in this.paper.customAttributes)if(this.paper.customAttributes[u](f)&&e[u](f)&&m.is(this.paper.customAttributes[f],"function")){d=this.paper.customAttributes[f].apply(this,[].concat(e[f]));this.attrs[f]=e[f];for(var c in d)d[u](c)&&(e[c]=d[c])}e.text&&"text"==this.type&&(this.node.string=e.text);W(this,e);e.gradient&&({circle:1,ellipse:1}[u](this.type)||"r"!=w(e.gradient).charAt())&&ba(this,e.gradient);ca[u](this.type)&&!this._.rt.deg||this.setBox(this.attrs)}return this};
x.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Ra(this,this.paper);return this};x.toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Sa(this,this.paper));return this};x.insertAfter=function(a){if(this.removed)return this;a.constructor==O&&(a=a[a.length-1]);a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,a.Group.nextSibling):
a.Group.parentNode.appendChild(this.Group);Ta(this,a,this.paper);return this};x.insertBefore=function(a){if(this.removed)return this;a.constructor==O&&(a=a[0]);a.Group.parentNode.insertBefore(this.Group,a.Group);Ua(this,a,this.paper);return this};x.blur=function(a){var b=this.node.runtimeStyle,d=b.filter,d=d.replace(Bb,"");0!==+a?(this.attrs.blur=a,b.filter=d+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")",b.margin=m.format("-{0}px 0 0 -{0}px",K(+a||1.5))):(b.filter=d,b.margin=
0,delete this.attrs.blur)};var Xa=function(a,b,d,e){var f=M("group"),c=M("oval");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";f.coordsize="1000 1000";f.coordorigin=a.coordorigin;f.appendChild(c);c=new A(c,f,a);c.type="circle";W(c,{stroke:"#000",fill:"none"});c.attrs.cx=b;c.attrs.cy=d;c.attrs.r=e;c.setBox({x:b-e,y:d-e,width:2*e,height:2*e});a.canvas.appendChild(f);return c},Ya=function(a,b,d,e,f,c){var g=cb(b,d,e,f,c);a=a.path(g);var h=a.attrs;a.X=h.x=
b;a.Y=h.y=d;a.W=h.width=e;a.H=h.height=f;h.r=c;h.path=g;a.type="rect";return a},Za=function(a,b,d,e,f){var c=M("group"),g=M("oval");c.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";c.coordsize="1000 1000";c.coordorigin=a.coordorigin;c.appendChild(g);g=new A(g,c,a);g.type="ellipse";W(g,{stroke:"#000"});g.attrs.cx=b;g.attrs.cy=d;g.attrs.rx=e;g.attrs.ry=f;g.setBox({x:b-e,y:d-f,width:2*e,height:2*f});a.canvas.appendChild(c);return g},$a=function(a,b,d,e,f,c){var g=
M("group"),h=M("image");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize="1000 1000";g.coordorigin=a.coordorigin;h.src=b;g.appendChild(h);h=new A(h,g,a);h.type="image";h.attrs.src=b;h.attrs.x=d;h.attrs.y=e;h.attrs.w=f;h.attrs.h=c;h.setBox({x:d,y:e,width:f,height:c});a.canvas.appendChild(g);return h},ab=function(a,b,d,e){var f=M("group"),c=M("shape"),g=c.style,h=M("path"),l=M("textpath");f.style.cssText="position:absolute;left:0;top:0;width:"+a.width+
"px;height:"+a.height+"px";f.coordsize="1000 1000";f.coordorigin=a.coordorigin;h.v=m.format("m{0},{1}l{2},{1}",K(10*b),K(10*d),K(10*b)+1);h.textpathok=!0;g.width=a.width;g.height=a.height;l.string=w(e);l.on=!0;c.appendChild(l);c.appendChild(h);f.appendChild(c);g=new A(l,f,a);g.shape=c;g.textpath=h;g.type="text";g.attrs.text=e;g.attrs.x=b;g.attrs.y=d;g.attrs.w=1;g.attrs.h=1;W(g,{font:ga.font,stroke:"none",fill:"#000"});g.setBox();a.canvas.appendChild(f);return g},bb=function(a,b){var d=this.canvas.style;
a==+a&&(a+="px");b==+b&&(b+="px");d.width=a;d.height=b;d.clip="rect(0 "+a+" "+b+" 0)";return this},M;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!t.namespaces.rvml&&t.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(a){return t.createElement("<rvml:"+a+' class="rvml">')}}catch(a){M=function(a){return t.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}ra=function(){var a=Qa[G](0,arguments),b=a.container,d=a.height,e=a.width,f=
a.x,a=a.y;if(!b)throw Error("VML container not found.");var c=new ea,g=c.canvas=t.createElement("div"),h=g.style,f=f||0,a=a||0,e=e||512,d=d||342;e==+e&&(e+="px");d==+d&&(d+="px");c.width=1E3;c.height=1E3;c.coordsize="10000 10000";c.coordorigin="0 0";c.span=t.createElement("span");c.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";g.appendChild(c.span);h.cssText=m.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
e,d);1==b?(t.body.appendChild(g),h.left=f+"px",h.top=a+"px",h.position="absolute"):b.firstChild?b.insertBefore(g,b.firstChild):b.appendChild(g);ya.call(c,c,m.fn);return c};F.clear=function(){this.canvas.innerHTML="";this.span=t.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};F.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=
Va(a);return!0}}var eb=navigator.userAgent.match(/Version\\x2f(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(eb&&4>eb[1]||"iP"==navigator.platform.slice(0,2))?F.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});V.setTimeout(function(){a.remove()})}:F.safari=function(){};for(var Eb=function(){alert("1");this.returnValue=!1},Fb=function(){return this.originalEvent.preventDefault()},Gb=function(){this.cancelBubble=!0},Hb=function(){return this.originalEvent.stopPropagation()},
Ib=function(){if(t.addEventListener)return function(a,b,d,e){var f=sa&&ta[b]?ta[b]:b,c=function(c){if(sa&&ta[u](b))for(var f=0,g=c.targetTouches&&c.targetTouches.length;f<g;f++)if(c.targetTouches[f].target==a){g=c;c=c.targetTouches[f];c.originalEvent=g;c.preventDefault=Fb;c.stopPropagation=Hb;break}return d.call(e,c)};a.addEventListener(f,c,!1);return function(){a.removeEventListener(f,c,!1);return!0}};if(t.attachEvent)return function(a,b,d,e){var f=function(a){a=a||V.event;a.preventDefault=a.preventDefault||
Eb;a.stopPropagation=a.stopPropagation||Gb;return d.call(e,a)};a.attachEvent("on"+b,f);return function(){a.detachEvent("on"+b,f);return!0}}}(),R=[],Aa=function(a){for(var b=a.clientX,d=a.clientY,e=t.documentElement.scrollTop||t.body.scrollTop,f=t.documentElement.scrollLeft||t.body.scrollLeft,c,g=R.length;g--;){c=R[g];if(sa)for(var h=a.touches.length,l;h--;){if(l=a.touches[h],l.identifier==c.el._drag.id){b=l.clientX;d=l.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
b+=f;d+=e;c.move&&c.move.call(c.move_scope||c.el,b-c.el._drag.x,d-c.el._drag.y,b,d,a)}},Ba=function(a){m.unmousemove(Aa).unmouseup(Ba);for(var b=R.length,d;b--;)d=R[b],d.el._drag={},d.end&&d.end.call(d.end_scope||d.start_scope||d.move_scope||d.el,a);R=[]},fb=Ja[r];fb--;)(function(a){m[a]=A.prototype[a]=function(b,d){m.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:Ib(this.shape||this.node||t,a,b,d||this)}));return this};m["un"+a]=A.prototype["un"+a]=function(b){for(var d=
this.events,e=d[r];e--;)if(d[e].name==a&&d[e].f==b){d[e].unbind();d.splice(e,1);!d.length&&delete this.events;break}return this}})(Ja[fb]);x.hover=function(a,b,d,e){return this.mouseover(a,d).mouseout(b,e||d)};x.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};x.drag=function(a,b,d,e,f,c){this._drag={};this.mousedown(function(g){(g.originalEvent||g).preventDefault();var h=t.documentElement.scrollTop||t.body.scrollTop,l=t.documentElement.scrollLeft||t.body.scrollLeft;this._drag.x=g.clientX+
l;this._drag.y=g.clientY+h;this._drag.id=g.identifier;b&&b.call(f||e||this,g.clientX+l,g.clientY+h,g);!R.length&&m.mousemove(Aa).mouseup(Ba);R.push({el:this,move:a,end:d,move_scope:e,start_scope:f,end_scope:c})});return this};x.undrag=function(a,b,d){for(b=R.length;b--;)R[b].el==this&&R[b].move==a&&R[b].end==d&&R.splice(b++,1);!R.length&&m.unmousemove(Aa).unmouseup(Ba)};F.circle=function(a,b,d){return Xa(this,a||0,b||0,d||0)};F.rect=function(a,b,d,e,f){return Ya(this,a||0,b||0,d||0,e||0,f||0)};F.ellipse=
function(a,b,d,e){return Za(this,a||0,b||0,d||0,e||0)};F.path=function(a){a&&!m.is(a,"string")&&!m.is(a[0],N)&&(a+="");return Wa(m.format[G](m,arguments),this)};F.image=function(a,b,d,e,f){return $a(this,a||"about:blank",b||0,d||0,e||0,f||0)};F.text=function(a,b,d){return ab(this,a||0,b||0,w(d))};F.set=function(a){1<arguments[r]&&(a=Array.prototype.splice.call(arguments,0,arguments[r]));return new O(a)};F.setSize=bb;F.top=F.bottom=null;F.raphael=m;x.resetScale=function(){if(this.removed)return this;
this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};x.scale=function(a,b,d,e){if(this.removed)return this;if(null==a&&null==b)return{x:this._.sx,y:this._.sy,toString:Ga};b=b||a;!+b&&(b=a);var f,c,g=this.attrs;if(0!=a){var h=this.getBBox(),l=h.x+h.width/2,k=h.y+h.height/2;f=H(a/this._.sx);c=H(b/this._.sy);d=+d||0==d?d:l;e=+e||0==e?e:k;var m=0<this._.sx,E=0<this._.sy,h=~~(a/H(a)),q=~~(b/H(b)),v=f*h,p=c*q,u=this.node.style,l=d+H(l-d)*v*(l>d==m?1:-1),k=e+H(k-e)*p*(k>e==E?1:-1),t=a*h>b*q?c:f;switch(this.type){case "rect":case "image":var B=
g.width*f,z=g.height*c;this.attr({height:z,r:g.r*t,width:B,x:l-B/2,y:k-z/2});break;case "circle":case "ellipse":this.attr({rx:g.rx*f,ry:g.ry*c,r:g.r*t,cx:l,cy:k});break;case "text":this.attr({x:l,y:k});break;case "path":for(var t=xa(g.path),y=!0,m=m?v:f,E=E?p:c,p=0,v=t[r];p<v;p++){var w=t[p],x=fa.call(w[0]);if("M"!=x||!y)if(y=!1,"A"==x)w[t[p][r]-2]*=m,w[t[p][r]-1]*=E,w[1]*=f,w[2]*=c,w[5]=+(h+q?!!+w[5]:!+w[5]);else if("H"==x)for(var x=1,A=w[r];x<A;x++)w[x]*=m;else if("V"==x)for(x=1,A=w[r];x<A;x++)w[x]*=
E;else for(x=1,A=w[r];x<A;x++)w[x]*=x%2?m:E}c=la(t);f=l-c.x-c.width/2;c=k-c.y-c.height/2;t[0][1]+=f;t[0][2]+=c;this.attr({path:t})}this.type in{text:1,image:1}&&(1!=h||1!=q)?this.transformations?(this.transformations[2]="scale(".concat(h,",",q,")"),this.node.setAttribute("transform",this.transformations.join(" ")),f=-1==h?-g.x-(B||0):g.x,c=-1==q?-g.y-(z||0):g.y,this.attr({x:f,y:c}),g.fx=h-1,g.fy=q-1):(this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(h,", M12=0, M21=0, M22=",
q,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),u.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")):this.transformations?(this.transformations[2]="",this.node.setAttribute("transform",this.transformations.join(" ")),g.fx=0,g.fy=0):(this.node.filterMatrix="",u.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||""));g.scale=[a,b,d,e].join(" ");this._.sx=a;this._.sy=b}return this};x.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;
delete a.translation;return this.paper[this.type]().attr(a)};var Ca={},pa=function(a,b,d,e,f,c,g,h,l){var k=0,n=100,r=[a,b,d,e,f,c,g,h].join(),q=Ca[r],p,u;!q&&(Ca[r]=q={data:[]});q.timer&&clearTimeout(q.timer);q.timer=setTimeout(function(){delete Ca[r]},2E3);null!=l&&(n=10*~~pa(a,b,d,e,f,c,g,h));for(var t=0;t<n+1;t++){q.data[l]>t?u=q.data[t*n]:(u=m.findDotsAtSegment(a,b,d,e,f,c,g,h,t/n),q.data[t]=u);t&&(k+=D(D(p.x-u.x,2)+D(p.y-u.y,2),.5));if(null!=l&&k>=l)return u;p=u}if(null==l)return k},Da=function(a,
b){return function(d,e,f){d=ka(d);for(var c,g,h,l,k="",n={},r=0,q=0,p=d.length;q<p;q++){h=d[q];if("M"==h[0])c=+h[1],g=+h[2];else{l=pa(c,g,h[1],h[2],h[3],h[4],h[5],h[6]);if(r+l>e){if(b&&!n.start){c=pa(c,g,h[1],h[2],h[3],h[4],h[5],h[6],e-r);k+=["C",c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y];if(f)return k;n.start=k;k=["M",c.x,c.y+"C",c.n.x,c.n.y,c.end.x,c.end.y,h[5],h[6]].join();r+=l;c=+h[5];g=+h[6];continue}if(!a&&!b)return c=pa(c,g,h[1],h[2],h[3],h[4],h[5],h[6],e-r),{x:c.x,y:c.y,alpha:c.alpha}}r+=l;
c=+h[5];g=+h[6]}k+=h}n.end=k;c=a?r:b?n:m.findDotsAtSegment(c,g,h[1],h[2],h[3],h[4],h[5],h[6],1);c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha});return c}},gb=Da(1),qa=Da(),Ea=Da(0,1);x.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():gb(this.attrs.path)};x.getPointAtLength=function(a){if("path"==this.type)return qa(this.attrs.path,a)};x.getSubpath=function(a,b){if("path"==this.type){if("1e-6">H(this.getTotalLength()-b))return Ea(this.attrs.path,a).end;
b=Ea(this.attrs.path,b,1);return a?Ea(b,a).end:b}};m.easing_formulas={linear:function(a){return a},"<":function(a){return D(a,3)},">":function(a){return D(a-1,3)+1},"<>":function(a){a*=2;return 1>a?D(a,3)/2:(D(a-2,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){--a;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return 0==a||1==a?a:D(2,-10*a)*y.sin(2*(a-.075)*L/.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=
2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a}};var S=[],hb=function(){for(var a=+new Date,b=0;b<S[r];b++){var d=S[b];if(!d.stop&&!d.el.removed){var e=a-d.start,f=d.ms,c=d.easing,g=d.from,h=d.diff,l=d.to,k=d.t,n=d.el,d={},p;if(e<f){var e=c(e/f),q;for(q in g)if(g[u](q)){switch(ua[q]){case "along":p=e*f*h[q];l.back&&(p=l.len-p);c=qa(l[q],p);n.translate(h.sx-h.x||0,h.sy-h.y||0);h.x=c.x;h.y=c.y;n.translate(c.x-h.sx,c.y-h.sy);l.rot&&n.rotate(h.r+c.alpha,c.x,c.y);break;case I:p=
+g[q]+e*f*h[q];break;case "colour":p="rgb("+[J(Q(K(g[q].r+e*f*h[q].r),255),0),J(Q(K(g[q].g+e*f*h[q].g),255),0),J(Q(K(g[q].b+e*f*h[q].b),255),0)].join()+")";break;case "path":p=[];for(var c=0,v=g[q][r];c<v;c++){p[c]=[g[q][c][0]];for(var t=1,w=g[q][c][r];t<w;t++)p[c][t]=+g[q][c][t]+e*f*h[q][c][t];p[c]=p[c].join(" ")}p=p.join(" ");break;case "csv":switch(q){case "translation":p=e*f*h[q][0]-k.x;c=e*f*h[q][1]-k.y;k.x+=p;k.y+=c;p=p+" "+c;break;case "rotation":p=+g[q][0]+e*f*h[q][0];g[q][1]&&(p+=","+g[q][1]+
","+g[q][2]);break;case "scale":p=[+g[q][0]+e*f*h[q][0],+g[q][1]+e*f*h[q][1],2 in l[q]?l[q][2]:"",3 in l[q]?l[q][3]:""].join(" ");break;case "clip-rect":for(p=[],c=4;c--;)p[c]=+g[q][c]+e*f*h[q][c]}break;default:for(v=[].concat(g[q]),p=[],c=n.paper.customAttributes[q].length;c--;)p[c]=+v[c]+e*f*h[q][c]}d[q]=p}n.attr(d);n._run&&n._run.call(n)}else l.along&&(c=qa(l.along,l.len*!l.back),n.translate(h.sx-(h.x||0)+c.x-h.sx,h.sy-(h.y||0)+c.y-h.sy),l.rot&&n.rotate(h.r+c.alpha,c.x,c.y)),(k.x||k.y)&&n.translate(-k.x,
-k.y),l.scale&&(l.scale+=""),n.attr(l),S.splice(b--,1)}}m.svg&&n&&n.paper&&n.paper.safari();S[r]&&setTimeout(hb)},Jb=function(a,b,d,e,f){var c=d-e;b.timeouts.push(setTimeout(function(){m.is(f,"function")&&f.call(b);b.animate(a,c,a.easing)},e))},oa=function(a,b){if(null==a)return{x:this._.tx,y:this._.ty,toString:Ga};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+
this.attrs.x,y:+b+this.attrs.y});break;case "path":var d=xa(this.attrs.path);d[0][1]+=+a;d[0][2]+=+b;this.attr({path:d})}return this};x.animateWith=function(a,b,d,e,f){for(var c=0,g=S.length;c<g;c++)S[c].el.id==a.id&&(b.start=S[c].start);return this.animate(b,d,e,f)};x.animateAlong=Ha();x.animateAlongBack=Ha(1);x.onAnimation=function(a){this._run=a||0;return this};x.animate=function(a,b,d,e){var f=this;f.timeouts=f.timeouts||[];if(m.is(d,"function")||!d)e=d||null;if(f.removed)return e&&e.call(f),
f;var c={},g={},h=!1,l={},k;for(k in a)if(a[u](k)&&(ua[u](k)||f.paper.customAttributes[u](k)))switch(h=!0,c[k]=f.attr(k),null==c[k]&&(c[k]=ga[k]),g[k]=a[k],ua[k]){case "along":var n=gb(a[k]),p=qa(a[k],n*!!a.back),q=f.getBBox();l[k]=n/b;l.tx=q.x;l.ty=q.y;l.sx=p.x;l.sy=p.y;g.rot=a.rot;g.back=a.back;g.len=n;a.rot&&(l.r=z(f.rotate())||0);break;case I:l[k]=(g[k]-c[k])/b;break;case "colour":c[k]=m.getRGB(c[k]);n=m.getRGB(g[k]);l[k]={r:(n.r-c[k].r)/b,g:(n.g-c[k].g)/b,b:(n.b-c[k].b)/b};break;case "path":n=
ka(c[k],g[k]);c[k]=n[0];q=n[1];l[k]=[];n=0;for(p=c[k][r];n<p;n++){l[k][n]=[0];for(var t=1,x=c[k][n][r];t<x;t++)l[k][n][t]=(q[n][t]-c[k][n][t])/b}break;case "csv":p=w(a[k]).split(P);q=w(c[k]).split(P);switch(k){case "translation":c[k]=[0,0];l[k]=[p[0]/b,p[1]/b];break;case "rotation":c[k]=q[1]==p[1]&&q[2]==p[2]?q:[0,p[1],p[2]];l[k]=[(p[0]-c[k][0])/b,0,0];break;case "scale":a[k]=p;c[k]=w(c[k]).split(P);l[k]=[(p[0]-c[k][0])/b,(p[1]-c[k][1])/b,0,0];break;case "clip-rect":for(c[k]=w(c[k]).split(P),l[k]=
[],n=4;n--;)l[k][n]=(p[n]-c[k][n])/b}g[k]=p;break;default:for(p=[].concat(a[k]),q=[].concat(c[k]),l[k]=[],n=f.paper.customAttributes[k][r];n--;)l[k][n]=((p[n]||0)-(q[n]||0))/b}if(h){k=m.easing_formulas[d];if(!k)if((k=w(d).match(pb))&&5==k[r]){var y=k;k=function(a){return jb(a,+y[1],+y[2],+y[3],+y[4],b)}}else k=function(a){return a};S.push({start:a.start||+new Date,ms:b,easing:k,from:c,diff:l,to:g,el:f,t:{x:0,y:0}});m.is(e,"function")&&(f._ac=setTimeout(function(){e.call(f)},b));1==S[r]&&setTimeout(hb)}else{d=
[];var A,B;for(B in a)a[u](B)&&qb.test(B)&&(k={value:a[B]},"from"==B&&(B=0),"to"==B&&(B=100),k.key=U(B,10),d.push(k));d.sort(vb);d[0].key&&d.unshift({key:0,value:f.attrs});n=0;for(p=d[r];n<p;n++)Jb(d[n].value,f,b/100*d[n].key,b/100*(d[n-1]&&d[n-1].key||0),d[n-1]&&d[n-1].value.callback);(A=d[d[r]-1].value.callback)&&f.timeouts.push(setTimeout(function(){A.call(f)},b))}return this};x.stop=function(){for(var a=0;a<S.length;a++)S[a].el.id==this.id&&S.splice(a--,1);a=0;for(ii=this.timeouts&&this.timeouts.length;a<
ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};x.translate=function(a,b){return this.attr({translation:a+" "+b})};x.toString=function(){return"Rapha\u00ebl\u2019s object"};m.ae=S;var O=function(a){this.items=[];this[r]=0;this.type="set";if(a)for(var b=0,d=a[r];b<d;b++)!a[b]||a[b].constructor!=A&&a[b].constructor!=O||(this[this.items[r]]=this.items[this.items[r]]=a[b],this[r]++)};O.prototype[C]=function(){for(var a,b,d=0,e=arguments[r];d<
e;d++)!(a=arguments[d])||a.constructor!=A&&a.constructor!=O||(b=this.items[r],this[b]=this.items[b]=a,this[r]++);return this};O.prototype.pop=function(){delete this[this[r]--];return this.items.pop()};for(var Fa in x)x[u](Fa)&&(O.prototype[Fa]=function(a){return function(){for(var b=0,d=this.items[r];b<d;b++)this.items[b][a][G](this.items[b],arguments);return this}}(Fa));O.prototype.attr=function(a,b){if(a&&m.is(a,N)&&m.is(a[0],"object")){b=0;for(var d=a[r];b<d;b++)this.items[b].attr(a[b])}else for(var d=
0,e=this.items[r];d<e;d++)this.items[d].attr(a,b);return this};O.prototype.animate=function(a,b,d,e){!m.is(d,"function")&&d||(e=d||null);var f=this.items[r],c=f,g,h=this,l;e&&(l=function(){!--f&&e.call(h)});d=m.is(d,"string")?d:l;for(g=this.items[--c].animate(a,b,d,l);c--;)this.items[c]&&!this.items[c].removed&&this.items[c].animateWith(g,a,b,d,l);return this};O.prototype.insertAfter=function(a){for(var b=this.items[r];b--;)this.items[b].insertAfter(a);return this};O.prototype.getBBox=function(){for(var a=
[],b=[],d=[],e=[],f=this.items[r];f--;){var c=this.items[f].getBBox();a[C](c.x);b[C](c.y);d[C](c.x+c.width);e[C](c.y+c.height)}a=Q[G](0,a);b=Q[G](0,b);return{x:a,y:b,width:J[G](0,d)-a,height:J[G](0,e)-b}};O.prototype.clone=function(a){a=new O;for(var b=0,d=this.items[r];b<d;b++)a[C](this.items[b].clone());return a};m.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},d=a.face["font-family"],e;for(e in a.face)a.face[u](e)&&(b.face[e]=a.face[e]);this.fonts[d]?
this.fonts[d][C](b):this.fonts[d]=[b];if(!a.svg){b.face["units-per-em"]=U(a.face["units-per-em"],10);for(var f in a.glyphs)if(a.glyphs[u](f)&&(d=a.glyphs[f],b.glyphs[f]={w:d.w,k:{},d:d.d&&"M"+d.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},d.k))for(var c in d.k)d[u](c)&&(b.glyphs[f].k[c]=d.k[c])}return a};F.getFont=function(a,b,d,e){e=e||"normal";d=d||"normal";b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(m.fonts){var f=m.fonts[a];if(!f){a=
new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var c in m.fonts)if(m.fonts[u](c)&&a.test(c)){f=m.fonts[c];break}}var g;if(f)for(c=0,a=f[r];c<a&&(g=f[c],g.face["font-weight"]!=b||g.face["font-style"]!=d&&g.face["font-style"]||g.face["font-stretch"]!=e);c++);return g}};F.print=function(a,b,d,e,f,c,g){c=c||"middle";g=J(Q(g||0,1),-1);var h=this.set(),l=w(d).split(""),k=0;m.is(e,d)&&(e=this.getFont(e));if(e){d=(f||16)/e.face["units-per-em"];var n=e.face.bbox.split(P);f=+n[0];
c=+n[1]+("baseline"==c?n[3]-n[1]+ +e.face.descent:(n[3]-n[1])/2);for(var n=0,p=l[r];n<p;n++){var q=n&&e.glyphs[l[n-1]]||{},t=e.glyphs[l[n]],k=k+(n?(q.w||e.w)+(q.k&&q.k[l[n]]||0)+e.w*g:0);t&&t.d&&h[C](this.path(t.d).attr({fill:"#000",stroke:"none",translation:[k,0]}))}h.scale(d,d,f,c).translate(a-f,b-c)}return h};m.format=function(a,b){var d=m.is(b,N)?[0].concat(b):arguments;a&&m.is(a,"string")&&d[r]-1&&(a=a.replace(kb,function(a,b){return null==d[++b]?"":d[b]}));return a||""};m.ninja=function(){Ia?
V.Raphael=lb:delete Raphael;return m};m.el=x;m.st=O.prototype;Ia?V.Raphael=m:Raphael=m})();